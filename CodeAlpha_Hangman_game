import random

def get_word():
    # Predefined list of words
    words = ['python', 'internship', 'developer', 'programming', 'function', 'library', 'algorithm', 'machine']
    return random.choice(words).upper()

def display_hangman(lives):
    # ASCII art for the hangman stages (showing remaining lives)
    stages = [
        """
           --------
           |      |
           |      O
           |     \\|/
           |      |
           |     / \\
           -
        """,
        """
           --------
           |      |
           |      O
           |     \\|/
           |      |
           |     /
           -
        """,
        """
           --------
           |      |
           |      O
           |     \\|/
           |      |
           |
           -
        """,
        """
           --------
           |      |
           |      O
           |     \\|
           |      |
           |
           -
        """,
        """
           --------
           |      |
           |      O
           |      |
           |      |
           |
           -
        """,
        """
           --------
           |      |
           |      O
           |
           |
           |
           -
        """,
        """
           --------
           |      |
           |
           |
           |
           |
           -
        """
    ]
    return stages[lives]

def hangman():
    word = get_word()
    word_letters = set(word) 
    alphabet = set('ABCDEFGHIJKLMNOPQRSTUVWXYZ')
    guessed_letters = set() 
    lives = 6 # Limit incorrect guesses to 6

    print("--- Let's play Hangman! ---")
    print(display_hangman(lives))

    while len(word_letters) > 0 and lives > 0:
        # Display current state
        print(f"\nYou have {lives} lives left.")
        print(f"Used letters: {' '.join(sorted(guessed_letters))}")

        # Current word display (e.g., P Y T _ O N)
        word_list = [letter if letter in guessed_letters else '_' for letter in word]
        print("Current Word: " + ' '.join(word_list))

        user_letter = input("Guess a letter: ").upper()

        if user_letter in alphabet - guessed_letters:
            guessed_letters.add(user_letter)
            if user_letter in word_letters:
                word_letters.remove(user_letter)
                print("Good guess!")
            else:
                lives -= 1
                print(f"Letter is not in the word. {lives} lives remaining.")
                print(display_hangman(lives))

        elif user_letter in guessed_letters:
            print("You already guessed that letter. Try again.")

        else:
            print("Invalid character. Please guess a single letter.")

    # Game ends here
    if lives == 0:
        print(display_hangman(0))
        print(f"\nYou lost! The word was **{word}**.")
    else:
        print(f"\nğŸ‰ You guessed the word **{word}**! You win!")

if __name__ == '__main__':
    hangman()
